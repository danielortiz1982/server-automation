# Bind9 and Zones
## Config Zones and Static IP Address
Open edit and rename zone file to your domain name:
> db.your-domain-name.com or db.example.com

Replace your-domain-name tag with your perfered domain. Make sure to leave a trailing " . " or it won't work.
> $EBLAST_DOMAIN_NAME. to something like example.com.

Replace $EBLAST_IP_ADDRESS with your static IP address.
> $EBLAST_IP_ADDRESS to something like 159.65.46.217

> Example zone source 
```shell
; BIND reverse data file for empty rfc1918 zone
;
; DO NOT EDIT THIS FILE - it is used for multiple zones.
; Instead, copy it, edit named.conf, and use that copy.
;
$TTL	86400
@	IN	SOA	ns1.$EBLAST_DOMAIN_NAME. root.localhost. (
			      2		; Serial
			 604800		; Refresh
			  86400		; Retry
			2419200		; Expire
			  86400 )	; Negative Cache TTL
;
@	IN	NS	ns1.$EBLAST_DOMAIN_NAME.
;@	IN	NS	ns2.$EBLAST_DOMAIN_NAME.
ns1	IN	A	$EBLAST_IP_ADDRESS
@ 	IN	MX 10 	mail.$EBLAST_DOMAIN_NAME.
$EBLAST_DOMAIN_NAME.	IN	A	$EBLAST_IP_ADDRESS
www	IN	A	$EBLAST_IP_ADDRESS
mail	IN	A	$EBLAST_IP_ADDRESS

```
## Local Configuration
Open local configuration file:
> named.conf.local

Update the zone property. remove $EBLAST_DOMAIN_NAME and update it with domain name listed in the zone file.
> $EBLAST_DOMAIN_NAME to something like example.com

Update the file property with your domain name.
> file "/etc/bind/db.your-domain-name.com" to something like file "/etc/bind/db.example.com"

> Example local source 
```shell

//
// Do any local configuration here
//

// Consider adding the 1918 zones here, if they are not used in your
// organization
//include "/etc/bind/zones.rfc1918";

zone "$EBLAST_DOMAIN_NAME" {
	type master;
	file "/etc/bind/db.$EBLAST_DOMAIN_NAME";
};
```

## Update Options
Open and update the zone options file.
> named.conf.options

Update the options file with the following code block. Add it under listen-on-v6 { any; }; directive.
```shell
forwarders {
    8.8.8.8;
    8.8.4.4;
};
```

> Example options source 
```shell
options {
    directory "/var/cache/bind";

    // If there is a firewall between you and nameservers you want
    // to talk to, you may need to fix the firewall to allow multiple
    // ports to talk.  See http://www.kb.cert.org/vuls/id/800113

    // If your ISP provided one or more IP addresses for stable 
    // nameservers, you probably want to use them as forwarders.  
    // Uncomment the following block, and insert the addresses replacing 
    // the all-0's placeholder.

    // forwarders {
    // 	0.0.0.0;
    // };

    //========================================================================
    // If BIND logs error messages about the root key being expired,
    // you will need to update your keys.  See https://www.isc.org/bind-keys
    //========================================================================
    dnssec-validation auto;

    listen-on-v6 { any; };
    forwarders {
        8.8.8.8;
        8.8.4.4;
    };
};
```

Reload bind9
```shell
systemctl restart bind9
```

Check bind9 status
```shell
systemctl status bind9
```

